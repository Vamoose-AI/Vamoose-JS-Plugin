(function(){let scriptTag=document.querySelector('script[src="https://cdn.jsdelivr.net/gh/Vamoose-AI/Vamoose-JS-Plugin/v0.0.1-vamoose.min.js"]');let organizationID=scriptTag.getAttribute("data-org-id");function getCurrentPage(){try{if(window.self!==window.top){return window.parent.location.href}}catch(e){console.error("Error accessing window.parent.location.href:",e.message)}return window.location.href||document.referrer}function loadCTA(url){fetch(`https://api.vamoose.ai/cta/organization/${organizationID}?url=${url}`).then(response=>response.json()).then(data=>{var ctaContainer=document.createElement("div");ctaContainer.id="ctaContainer";ctaContainer.innerHTML=data.html;document.body.appendChild(ctaContainer);var styleElement=document.createElement("style");styleElement.innerHTML=data.css;document.head.appendChild(styleElement);var scriptElement=document.createElement("script");scriptElement.textContent=`${data.js}`;document.body.appendChild(scriptElement);initPlugin()}).catch(error=>{console.error(`Error retrieving CTA: ${error}`)})}var pluginInitialized=false;function initPlugin(){if(!pluginInitialized){pluginInitialized=true;var currentPage=getCurrentPage();loadCTA(currentPage)}}if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",initPlugin)}else{initPlugin()}})();